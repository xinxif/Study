### C语言的概述

语言与命名规则

以前的C语言，还要求把变量声明在块的顶部，其它语句不能放在任何声明的前面。

```c
  int main()
    {
        int doors;//旧规则
        int dogs;
        doors=5
        dogs=3;
      	//其它语句
      
      	//c99和c11遵循c++的惯例，可以把声明放在块中的任何位置。
    }
```

C99和C11允许使用更长的**标识符名**， 但是**编译器只识别前63个字符**。对于**外部标识符**（参阅第12
章）， 只允许使用**31个字符**。实际上， 你可以使用更长的字符， 但是编译器会忽略超出的字符。**小写字母、 大写字母、 数字和下划线（＿）来==命名==**。 而且， 名称的**第1个字符必须是字符或下划线**， ==不能是数字== 。操作系统和C库经常使用以一个或两个下划线字符开始的标识符（如， `＿kcab`)，因此最好避免在自己 的程序中使用这种名称。C语言的名称区分大小写。

C语言关键字中，**粗体表示的是C90标准新增的关键字**，**斜体**表示的C99标准新增的关键字，**粗斜体**表示的是C11标准新增的关键字

|    auto     |   extern   |     short      |         while          |
| :---------: | :--------: | :------------: | :--------------------: |
|   `break`   |  `floa`t   |  **`signed`**  |    ***`_Alignas`***    |
|   `case`    |   `for`    |    `sizeof`    |    ***`_Alignof`***    |
|   `char`    |   `goto`   |    `static`    |    ***`_Atomic`***     |
| **`const`** |    `if`    |    `struct`    |     ***`_Bool`***      |
| `continue`  |  `inline`  |    `switch`    |    ***`_Complex`***    |
|  `default`  |   `int`    |   `typedef`    |    ***`_Generic`***    |
|    `do`     |   `long`   |    `union`     |   ***`_Imaginary`***   |
|  `double`   | `register` |   `unsigned`   |   ***`_Noreturn`***    |
|   `else`    | `restrict` |     `void`     | ***`_static_assert`*** |
| **`enum`**  |  `return`  | **`volatile`** | ***`_Thread_local`***  |

----

### 数据和C



1. 数据类型和关键字

   - 在`printf()`中使用**`%f`**来**处理浮点值**。%.2f中的**.2 用于精确控制输出**，指定输出的浮点数只显示小数点后面两位。
   - `char`类型也可以表示较小的整数。
   - `_Bool`类型表示布尔值（`true`或`false`），`_complex`和`_Imaginary`分别表示复数和虚数。

2. 整数和浮点数

   - ==注意==，在一个值后面加上一个小数点，该值就成为一个浮点值。

   - 对于一些算术运算（如，两个很大的数相减），**浮点数损失的精度更多** 因为在**任何区间内**（如，1.0 到 2.0 之间）**都存在无穷多个实数**，所以
     计算机的**浮点数不能表示区间内所有的值**。浮点数通常只是实际值的近似
     值。例如，7.0可能被储存为浮点值6.99999。

   - C 初始化变量的三种方式

     ```c
     int erns;
     int hogs, cows, goats;
     cows = 112;
     
     //通过函数（如，scanf()）获得值。
     
     int hogs = 21;
     int cows = 32, goats = 14;
     int dogs, cats = 94; /* 有效，但是这种格式很糟糕 */
     ```

   - 声明为变量创建和标记存储空间，初始化则是为变量赋值，没有初始化的变量的值将会是未定义的垃圾值。

   - 0x或0X前缀表示十六进制值，0前缀表示八进制，**十进制**显示数字，使用`%d`，**八进制**显示数字，使用`%o`，以**十六进制**显示数字，使用`%x`。**显示**各进制数的**前缀**0、0x和0X，必须分别使用`%#o、%#x、%#X`

3. 其它整数类型

   - `short int`类型（或者简写为`short`）的存储空间可能比`int`类型少
   - `long int`或`long`占用的存储空间可能比`int`多
   - `long long int`或`long long`占用的储存空间可能比`long`多，该类型至少占64位。
   - `unsigned int`或`unsigned`只用于非负值的场合
   - 在**C90标准**中，添加了`unsigned long int`或`unsigned long`和`unsigned in`t或`unsigned short`类型。C99标准又添加了`unsigned long long int`或`unsigned long long`。
   - 在任何**有符号类型前**面添加关键字**`signed`**，可**强调使用有符号类型**的意
     图
   - C语言只规定了`short`占用的**存储空间不能多**于`int`，`long`占用的**存储空间不能少于**`int`。
   - **对于那些`long`占用的空间比`int`大的系统，使用`long`类型会减慢运算速度。**如果在**`long`类型和`int`类型占用空间相同的机器上编写代码**，当确实需要32位的整数时，**应使用`long`类型而不是`int`类型**，以便把程序移植到16位机后仍然可以正常工作。
   - 如果在`int`设置为32位的系统中要使用16位的值，应使用short类型以节省存储空间。通常，只有当程序使用相对于系统可用内存较大的整型数组时，才需要重点考虑节省空间的问题。使用short类型的另一个原因是，计算机中某些组件使用的硬件寄存器是16位。
   - 要把一个较小的**常量作为long类型**对待，值的**末尾加上l（小写的L）或L后缀**。也可用于**八进制和十六进制**整数，如*020L和0x10L*。支持`long long`类型的系统中，也可以使用**ll或LL**后缀来表示long long类型的值，如3LL。另外，**u或U后缀**表示`unsigned long long`，如5ull、10LLU、6LLU或9Ull。

4. 打印`short`、`long`.`long long`和`unsigned`类型

   - 打印`unsigned int %u`
   - 打印`long %ld `
   - 在`x`和`o`前面可以使用`l`前缀，`%lx`表示以十六进制格式打印`long`类型整数，`%lo`表示以八进制格式打印`long`类型整数。**转换说明中只能用小写**。
   - 打印`short %hd`表示以**十进制**显示`short`类型，`%ho`表示以**八进制**显示short类型`h`和`l`前缀都可以和`u`一起使用，用于表示无符号类型。例如，`%lu`表示打印`unsigned long`。对于支持`long long`类型的系统，`%lld`和`%llu`分别表示有符号和无符号类型
   - 必须**确保转换说明**的==数量==和**待打印值的数量相同**，**须根据待打印值的类型使用正确的转换说明**。

5. `char`类型

   - 字符常量初始化`char grade = 'A'`;C语言中，用**单引号**括起来的**单个字符**被称为**字符常量**。**字符是以数值形式储存的**，所以也可使用数字代码值来赋值`char grade = 65`;
   - C语言将**字符常量视为int类型而非char类型**字符常量的这种特性，可以定义一个字符常量'FATE'，即把4个独立的8位ASCII码储存在一个32位存储单元中如果把这样的字符常量赋给char类型变量grade，只有最后8位有效。
   - 把**转义序列赋给字符变量**时，必须用**单引号把转义序列括起来**`char nerf = '\n';`

   | 转义序列 | 含义                                                    |
   | -------- | ------------------------------------------------------- |
   | `\a`     | 警报                                                    |
   | `\b`     | 退格                                                    |
   | `\f`     | 换页                                                    |
   | `\n`     | 换行                                                    |
   | `\r`     | 回车                                                    |
   | `\t`     | 水平制表符                                              |
   | `\v`     | 垂直制表符                                              |
   | `\\`     | 反斜杠(\)                                               |
   | `\'`     | 单引号                                                  |
   | `\"`     | 双引号                                                  |
   | `\?`     | 问号                                                    |
   | `\0oo`   | 八进制值(`oo`为有效的八进制值，每个o表示一个数值) `007` |
   | `\xhh`   | 十六进制(`hh`为有效的十六进制值，每个o表示一个数值)     |

   - `printf()`函数用==`%c`指明待打印的字符==。
   - `_Bool` 布尔值，即逻辑值`true`和`false`

6. 可移植类型 `stdint.h inttypes.h`

   - C99 新增了两个头文件`stdint.h`和`inttypes.h`，以确保C语言的类型在各系统中的功能相同。
   - C语言为现有类型创建了更多类型名。类型名定义在`stdint.h`,`int32_t`表示32位的有符号整数类型。***int32_t表示整数类型的宽度正好是32位。但是，计算机的底层系统可能不支持***
   - **最小宽度类型**。`int_least8_t`是**可容纳8位有符号整数值的类型中宽度最小的类型的一个别名**
   - 最快最小宽度类型`int_fast8_t`被定义为系统中对8位有符号值而言运算最快的整数类型的别名。
   - 最大的有符号整数类型`intmax_t`，`unitmax_t`表示最大的无符号整数类型
   - 打印`int32_t`类型的值，`inttypes.h`头文件中定义了`PRId32`字符串宏，代表打印32位有符号值的合适转换说明

7. `float double long double`

   - 1.0e9表示1.0x10^9^
   - C只保证long double类型至少与double类型的精度相同。
   - **浮点数的声明**：`2.87e-3`。==可以没有小数点==（如，2E5）==或指数部分==（如，19.28），但是**不能同时省略两者**。**不要在浮点型常量中间加空格**。
   - **编译器**假定**浮点型常量**是**double**类型的精度。加上**f或F后缀可覆盖默认设置**。使用l或L后缀使得数字成为long double类型
   - C99 标准添加十六进制表示浮点型常量 `0xa.1fp10`  **用p和P分别代替e和E**

8. `long` 打印浮点值

   - `printf()`函数使用`%f `打印十进制记数法的`float`和`double`，`%e`打印指数记数法的浮点数，如果系统支持十六进制格式的浮点数，可用`a`和`A`分别代替`e`和`E`，打印`long double`类型要使用`%Lf`、`%Le`或`%La`。
   - **未在函数原型中**显式**说明参数类型**的函数**传递参**数时，**C编译器**会把**float**类型的值**自动转换成double**类型
   - 特殊的浮点值`NaN`（not a number的缩写）

9. 复数和虚数

   - 3种复数类型：`float_Complex`、`double_Complex`和`long double _Complex`。
   - 3种虚数类型：`float_Imaginary`、`double _Imaginary`和`long double _Imaginary`
   - 包含`complex.h`头文件，便可用`complex`代替`_Complex`，用`imaginary`代替`_Imaginary`，还可以用`I`代替`-1`的平方根

10. 缓冲区刷新

    - 标准明确规定了**何时把缓冲区**中的内容**发送到屏幕**：**当缓冲区
      满**、遇到**换行字符**或需要**输入**，`fflush()`主动刷新缓冲区

