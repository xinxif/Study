### 第一章

#### 电路交换，分组交换和报文交换

1. 电路交换
   - **计算机之间的数据传送是突发式**的，当**使用电路交换**来传送计算机数据时，其**线路的传输效率一般都会很低**，线路上真正用来传送数据的时间往往不到10%甚至1%。
2. 分组交换
   - 优点
     - 没有建立连接和释放连接的过程
     - 分组传输过程中逐段占用通信链路，有较高的通信线路利用率
     - 交换节点可以为每一个分组独立选择转发路由，使得网络有很好的生存性
   - 缺点
     - 分组首部带来了额外的传输开销
     - 交换节点存储转发分组会照成一定的时延
     - 无法确保通信时端到端通信资源全部可用，在通信量较大时可能造成网络拥堵
     - 分组可能会出现失序和丢失等问题
3. 报文交换
   - 报文交换是分组交换的前身。在报文交换中，**报文被整个地发送**，而不是拆分成若干个分组进行发送。交换节点将**报文整体接收完成后**才能查找转发表，将整个报文转发到下一个节点。因此，报文交换比分组交换带来的**转发时延要长很多**，需要交换节点具有的**缓存空间也大很多**。
4. 三种交换方式的对比
   - **若要连续传送大量的数据，并且数据传送时间远大于建立连接的时间**，**则使用电路交换可以有较高的传输效率。**然而计算机的==**数据传送往往是突发式的**==，采用电路交换时通信线路的利用率会很低。
   - 报文交换和分组交换都==**不需要建立连接**==（即预先分配通信资源)，在传送计算机的**突发数据时可以提高通信线路的利用率。**
   - 将报文构造成若干个更小的分组进行分组交换，比将整个报文进行报文交换的时延要小，并且还可以避免太长的报文长时间占用链路，有利于差错控制，同时具有更好的灵活性。

#### 计算机网络的性能指标

1. 速率

   - | 数据量的单位 | 换算关系       |
     | ------------ | -------------- |
     | 比特(b)      | 基本单位       |
     | 字节(B)      | 1B=8bit        |
     | 千字节(KB)   | KB=2^10^ B     |
     | 兆字节(MB)   | MB=KKB=2^20^ B |
     | 吉字节(GB)   | GB=KMB=2^30^ B |
     | 太字节(TB)   | TB=KGB=2^40^ B |

   - 速率是指**数据的传送速率**，也成为数据率或比特率。基本单位为bit/s或bps。

   - | 速率的单位      | 换算关系              |
     | --------------- | --------------------- |
     | 比特/秒(b/s)    | 基本单位              |
     | 千比特/秒(kb/s) | kb/s=10^3^ b/s        |
     | 兆比特/秒(Mb/s) | Mb/s=k*kb/s=10^6^ b/s |
     | 吉比特/秒(Gb/s) |                       |
     | 太比特/秒(Tb/s) |                       |

2. 带宽

   - 带宽在模拟信号系统中的意义：某个信号所包含的各种不同频率成分所占据的**频率范围**

     - 单位：Hz（kHz，MHz，GHz）

   - 带宽在计算机网络中的意义：用来表示网络的**通信线路所能传送数据的能力**，即在单位时间内从网络中的某一点到另一点所能**通过的最高速据率**。

     - 单位：b/s（kb/s、Mb/s、Gb/s、Tb/s）

     - ==**数据传送速率**===min[主机接口速率，线路带宽，交换机或路由器的接口速率]

       

3. 吞吐量

   - 吞吐量是指在**单位时间内通过某个网络或接口的实际数据量**。吞吐量常被用于对实际网络的测量，以便获知到底有多少数据量通过了网络。
   - 吞吐量**受网络带宽的限制**。

4. 时延

   - 时延是指数据从网络的一端传送到另一端所耗费的时间，也称为延迟或迟延。数据可由一个或多个分组、甚至是一个比特构成。

   - ==**发送时延=数据帧长度(b)/发送速率(b/s)**== 

   - ==**传播时延=信道长度(m)/信号传播速率(m/s)**==

     

     - 自由空间：3.0*10 ^8^ m/s
     - 铜线：2.3*10 ^8^ m/s
     - 光纤：2.0*10 ^8^ m/s

   - 排队时延：不方便计算

   - 处理时延：不方便计算

5. **时延带宽积**

   - 时延带宽积是**传播时延**和**带宽**的乘积。链路的时延带宽积也称为**以比特为单位的链路长度**。

6. 往返时延

   - 往返时间（Round-Trip Time，RTT）是指从发送端发送数据分组开始，到发送端收到接收端发来的相应确认分组为止，总共耗费的时间。
   - **有效数据率=数据长度/发送时间+RTT**

7. 利用率

   - 链路利用率

     - 链路利用率是指某条链路有百分之几的时间是被利用的(即有数据通过)。
     - 完全空闲的链路的利用率为零。

   - 网路利用率

     - 网络利用率是指网络中所有链路的链路利用率的加权平均。
     - 根据排队论可知，**当某链路的利用率增大时，该链路引起的时延就会迅速增加**。
     - 当网络的通信量较少时，产生的时延并不大，但在网络通信量不断增大时，**分组在交换节点(路由器或交换机)中的排队时延会随之增大**，因此网络引起的时延就会增大。
     - 令**D ~0~ 表示网络空闲时的时延**，**D表示网络当前的时延**，那么在理想的假定条件下，可用下式来表示D，D ~0~ 和**网络利用率U**之间的关系。

     $$
     D = \frac{D ~0~}{1-U}
     $$

8. 丢包率

   - 丢包率是指在一定的时间范围内，传输过程中**丢失的分组数量**与**总分组数量的比率**。
     - 接口丢包率-
     - 网络丢包率
     - 路径丢包率
     - 链路丢包率
     - 节点丢包率
   - 分组丢失主要有以下两种情况:
     - 分组在传输过程中出现误码，被传输路径中的节点交换机（例如路由器）或目的主机检测出误码而丢弃。
     - 节点交换机根据丢弃策略主动丢弃分组。丢包率可以反映网络的拥塞情况。
     - 无拥塞时路径丢包率为0。
     - 轻度拥塞时路径丢包率为1%~4%。
     - 严重拥塞时路径丢包率为5%~15%。

#### 计算机网络体系结构

1. 三种计算机网络体系结构

   | OSI 参考模型/法律规定 | TCP/IP 参考模型/==事实==标准 | 原理参考模型/教学 | 协议         |
   | --------------------- | ---------------------------- | ----------------- | ------------ |
   | 应用层                |                              |                   | HTTP SMTP .. |
   | 表示层                |                              |                   |              |
   | 会话层                | 应用层                       | 应用层            |              |
   | 运输层                | 运输层                       | 运输层            | TCP UDP      |
   | 网络层                | 网络层                       | 网络层            | IP           |
   | 数据链路层            |                              | 数据链路层        |              |
   | 物理层                | 网络接口层                   | 物理层            |              |

   1. 物理层
      1. 采用什么传输媒体
      2. 采用什么物理接口
      3. 采用什么信号表示比特0和1
   2. 数据链路层
      1. 标识网络中各主机(**主机编址，例如MAC地址**)
      2. 从比特流中区分出地址和数据（**数据封装格式**)
      3. 协调各主机争用总线（**媒体接入控制**)
      4. 以太网交换机的实现（**自学习和转发帧**)
      5. 检测数据是否误码（**差错检测**)
      6. 检测数据是否误码（**差错检测**)
   3. 网络层
      1. 标识网络和网络中的各主机(**网络和主机共同编址，例如IP地址**)
      2. 路由器转发分组(**路由选择协议、路由表和转发表)**
   4. 运输层
      1. 进程之间基于网络的通信(**进程的标识**，例如端口号)
      2. 出现传输差错如何处理(**可靠传输和不可靠传输**)
   5. 应用层
      1. 通过应用进程间的交互来完成特定的网络应用
      2. 进行会话管理和数据表示

2. 计算机网络体系结构中的专用术语

   1. 实体
      - **实体**是指任何可发送或接收信息的**硬件**或**软件进程**。
      - **对等实体**是指通信双方**相同层次中的实体**。
   2. 协议
      - **协议**是控制两个对等实体在**“水平方向**”进行“**逻辑通信**”的**规则**的集合。
      - ==协议的**三要素**==：
        - **语法**：定义所交换信息的**格式**
        - **语义**：定义通信双方所要完成的**操作**
        - **同步**：定义通信双方的**时序关系**
   3. 服务
      - 在协议的控制下，**两个对等实体在水平方向的逻辑通信使得本层能够向上一层提供服务**。要实现本层协议，还需要使用下面一层所提供的服务。
      - 协议是“**水平**”的，而服务是“**垂直**”的。
      - 实体看得见下层提供的服务，但并不知道实现该对等层次之间传送的数据包称为该层的协议数据单元(Protocol Data Unit，PDU)。同一系统内层与层之间交换的数据包称为服务数据单元(Service Data Unit，SDU)。服务的具体协议。下层的协议对上层的实体是“**透明**”的。
      - 在同一系统中**相邻两层的实体交换信息的逻辑接口**称为**服务访问点SAP**，它被用于区分不同的服务类型。
      - 帧的“类型”字段、IP数据报的“协议”字段，TCP报文段或UDP用户数据报的“端口号”字段都是SAP。
      - 上层要使用下层所提供的服务，必须通过与下层**交换一些命令**，这些命令称为**服务原语**。
      - 对等层次之间传送的数据包称为该层的**协议数据单元**(Protocol Data Unit，**PDU**)。
      - 同一系统内层与层之间交换的数据包称为**服务数据单元**(Service Data Unit，**SDU**)。

### 物理层

1. 物理层要实现的功能：“**透明**“传输比特流。

#### 物理层的接口特性

- 机械特性
  - 形状和尺寸
  - 引脚数目和排列
  - 固定和锁定装置
- 电气特性
  - 信号电压的范围
  - 阻抗匹配的状况
  - 传输速率
  - 距离限制
- 功能特性：规定接口电缆的各条信号线的作用
- 过程特性：规定在信号线上传输比特流的一组操作过程，包括个信号的时序关系
